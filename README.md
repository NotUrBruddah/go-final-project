# Итоговый проект ЯндексПрактикума курс Go-Basic ![Go](https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white)

Директория `tests` содержит тесты для проверки API, которое должно быть реализовано в веб-сервере.

Директория `web` содержит файлы фронтенда.

Директория `cmd` оснавная точка входа приложения

Директория `internal/db` содержит пакет для работы с БД

Директория `internal/webserver` содержит пакет для работы webserver и API-handlers

Директория `internal/utils` содержит пакет c прочими функциями (например для вычисления следующей даты для задачи)

Директория `internal/models` пакет содержит структуры данных

## Доступны переменные окружения:
- `TODO_PORT` - порт, вебсервера для запуска
- `TODO_DBFILE` - каталог(путь) хранения файла БД (scheduler.db)
- `TODO_WEBDIR` - каталог веб-приложения

Файл `.env` для загрузки переменных окружения (https://github.com/joho/godotenv)

## Реализовано:
- запуск веб-сервера `http://localhost:7540/`, реализован файл-сервер
- задание со `*`, реализована возможность управлять портом запуска веб-сервера
    через переменную окружения `TODO_PORT`
- реализована БД SQLite, создан индекс по полю date
- задание со `*`, возможность определять путь к БД
    через переменную окружения `TODO_DBFILE`
- реализован обработчик для `GET /api/nextdate`
- реализованы правила повторения задач `Ежегодно` и `Повторять с интервалом`
- реализован обработчик для `POST /api/task` и функция для добавления данных в БД
- реализован обработчик для `GET /api/tasks`, возвращает список ближайших задач из БД
- реализован обработчик для `GET /api/task?id=<id>` - возвращающий данные по задаче из БД
- реализован обработчик для `PUT /api/task`, изменение задачи в БД
- реализован обработчик для `POST /api/task/done?id=<id>`, который реализует логику отметки о выполнении
- реализован обработчик для `DELETE /api/task/done?id=<id>`

## Успешно пройдены тесты
- успешно пройден тест `go test -run ^TestApp$ ./tests`
- успешно пройден тест `go test -run ^TestDB$ ./tests`
- успешно пройден тест `go test -run ^TestNextDate$ ./tests`
- успешно пройден тест `go test -run ^TestAddTask$ ./tests`
- успешно пройден тест `go test -run ^TestTasks$ ./tests`
- успешно пройден тест `go test -run ^TestTask$ ./tests`
- успешно пройден тест `go test -run ^TestEditTask$ ./tests`
- успешно пройден тест `go test -run ^TestDone$ ./tests`
- успешно пройден тест `go test -run ^TestDelTask$ ./tests`
- Все тесты пройдены успешно `go test ./tests`


## TO DO List:
- задание со `*`, реализованы правила `Еженедельно` и `Ежемесячно`
- поиск задач
- авторизация
- docker образ 
